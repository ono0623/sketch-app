/* ================================
   ベース安定化
================================ */
*, *::before, *::after { box-sizing: border-box; }

body {
  font-family: sans-serif;
  margin: 0;
  padding: 0;
  background: #ffffff;
}

/* ================================
   ツールバー
================================ */
#toolbar {
  margin: 10px;
  display: flex;
  gap: 10px;
}
#toolbar button.active,
#toolbar button.is-active {
  background: #1e90ff;
  color: #fff;
}

/* ================================
   3カラムレイアウト
   （左：スナップショット／中：キャンバス／右：タイムライン）
================================ */
#main {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 12px;           /* ← 横のすき間（お好みで 8〜16px） */
  flex-wrap: nowrap;   /* ← 折り返さない＝重なり防止 */
  padding: 10px;
}

/* 左パネル：スナップショットリスト（固定幅・横スク禁止） */
#snapshotListContainer {
  flex: 0 0 210px;     /* ← 幅（200〜220pxでお好み） */
  max-width: 210px;
  overflow-y: auto;
  overflow-x: hidden;
  /* max-height は JSで高さ同期するなら不要。固定したいなら値を入れてOK */
  border: 1px solid #ccc;
  padding: 8px;        /* 10→8でやや詰める */
  background: #f9f9f9;
}

/* 中央：キャンバスラッパ（可変幅・重なり防止の min-width:0 が超重要） */
#canvasWrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 1 1 auto;
  min-width: 0;        /* ← Safari/iPad で中央が縮まず重なる問題の決め手 */
}

/* 右パネル：タイムライン（固定幅） */
#timelinePanel{
  flex: 0 0 210px;     /* ← 幅（200〜220pxでお好み） */
  max-width: 210px;
  background: #f3f3f3;
  border: 1px solid #ccc;
  padding: 8px;
}

/* ================================
   キャンバス類
================================ */
canvas {
  border: 1px solid #ccc;
  background: #fff;
}

/* メインキャンバスは親幅にフィット（座標取得は getBoundingClientRect なのでOK） */
#canvas {
  width: 100%;
  height: auto;
  max-width: 900px;    /* ← 上限（800〜1000で好みのバランスに） */
  display: block;      /* ← 行ボックスの隙を消す */
}

/* タイムラインキャンバスは横100%（高さはJSで同期） */
#timelinePanel canvas{
  width: 100%;
  display: block;
  /* height は JS の syncTimelineSize() で上書きされる想定 */
  background: #e0e0e0;
  border: 1px solid #bbb;
}

/* ================================
   スナップショット内の見出し＆画像
================================ */
#snapshotListContainer h3,
#timelinePanel h3 {
  margin: 6px 0 8px;   /* 下の余白を詰める */
  font-size: 14px;
}

/* サムネ画像は親幅にフィット（横スク無し） */
#snapshotListContainer img {
  width: 100% !important;   /* JSの width=160 を打ち消す */
  height: auto !important;  /* JSの height=120 を打ち消す */
  display: block;
  border: 1px solid #ccc;
}

/* ================================
   ストロークリスト
================================ */
#strokeList {
  display: none;       /* ← 最初は非表示（トグルで表示） */
  margin-top: 10px;
  width: 600px;
  overflow-y: auto;
  max-height: 200px;
  background: white;
  border: 1px solid #ccc;
  padding: 10px;
}

.stroke-entry {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 5px;
}

/* ================================
   レスポンシブ（任意）
   狭い画面で縦積みにしたい場合だけ有効化
================================ */
/*
@media (max-width: 1024px) {
  #main { flex-wrap: wrap; }
  #snapshotListContainer, #timelinePanel {
    flex: 1 1 260px;
    max-width: none;
  }
}
*/
